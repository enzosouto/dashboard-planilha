<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Campanhas SECOM</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        async function fetchData() {
    try {
        const response = await fetch('https://api-google-sheets-7zph.vercel.app/getData');
        if (!response.ok) {
            throw new Error('Erro ao buscar dados do servidor');
        }
        const data = await response.json();
        console.log('Dados recebidos da API:', data);
        
        // Verifica se data.values existe
        if (data.values) {
            sessionStorage.setItem("data", JSON.stringify(data.values));
        } else {
            sessionStorage.setItem("data", JSON.stringify(data.values));
        }
        
        // Dispara evento indicando que os dados foram carregados
        window.dispatchEvent(new Event('fetchDataComplete'));
    } catch (error) {
        console.error('Erro:', error.message);
    }
}
      </script>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-logo">
            <img src="https://logospng.org/download/governo-federal/governo-federal-brasil-4096.png" alt="SECOM Logo">
            <span>SECOM Dashboard</span>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#" class="active"><i class="fas fa-home"></i> Visão Geral</a></li>
            <li><a href="#"><i class="fas fa-chart-line"></i> Análises</a></li>
            <li><a href="#"><i class="fas fa-calendar"></i> Campanhas</a></li>
            <li><a href="#"><i class="fas fa-users"></i> Agências</a></li>
            <li><a href="#"><i class="fas fa-cog"></i> Configurações</a></li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">


        <!-- Metrics -->
        <div class="metrics-grid">
            <div class="metric-card">
                <i class="fas fa-dollar-sign metric-icon"></i>
                <div class="metric-label">
                    <i class="fas fa-wallet"></i>
                    Orçamento Total
                </div>
                <div class="metric-value">R$ 24.3M</div>
                <div class="metric-trend trend-up">
                    <i class="fas fa-arrow-up"></i>
                    12% do mês anterior
                </div>
            </div>
            <div class="metric-card">
                <i class="fas fa-dollar-sign metric-icon"></i>
                <div class="metric-label">
                    <i class="fas fa-wallet"></i>
                    Orçamento Secom
                </div>
                <div class="metric-value">R$ 15.2M</div>
                <div class="metric-trend trend-up">
                    <i class="fas fa-arrow-up"></i>
                    8.5% do mês anterior
                </div>
            </div>
            <div class="metric-card">
                <i class="fas fa-play metric-icon"></i>
                <div class="metric-label">
                    <i class="fas fa-broadcast-tower"></i>
                    Campanhas Ativas
                </div>
                <div class="metric-value">12</div>
                <div class="metric-trend trend-down">
                    <i class="fas fa-arrow-down"></i>
                    3% do mês anterior
                </div>
            </div>
            <div class="metric-card">
                <i class="fas fa-play metric-icon"></i>
                <div class="metric-label">
                    <i class="fas fa-calendar"></i>
                    Campanhas Previstas
                </div>
                <div class="metric-value">1</div>
                <div class="metric-trend trend-down">
                    <i class="fas fa-arrow-down"></i>
                    32% do mês anterior
                </div>
            </div>
        </div>

        <!-- Table -->
        <div class="table-card">
            <div class="table-header">
                <div class="table-title">Campanhas</div>
                <div class="table-actions">
                    <input type="text" class="search-input" placeholder="Buscar campanha...">
                    <button class="btn btn-secondary">
                        <i class="fas fa-filter"></i>
                        Filtrar
                    </button>
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="width: 40px"></th>
                        <th>Campanha</th>
                        <th>Demandante</th>
                        <th>Agência</th>
                        <th>Status</th>
                        <th>Orçamento</th>
                        <th>Praça</th>
                        <th>Progresso</th>
                    </tr>
                </thead>
                <tbody>
                   
                </tbody>
            </table>
        </div>

        <!-- Charts -->
        <div class="charts-grid">
            <!-- Bar Chart -->
        

<!-- Gráfico de barras simplificado -->
<div class="chart-card">
    <div class="chart-header">
        <div class="chart-title">Distribuição de Mídia</div>
        <div class="chart-legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #2563EB"></div>
                <span>Internet</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #10B981"></div>
                <span>Televisão</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #F59E0B"></div>
                <span>Rádio</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #EF4444"></div>
                <span>Mídia Exterior Digital</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #8B5CF6"></div>
                <span>Mídia Exterior Estática</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #EC4899"></div>
                <span>Cinema</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #14B8A6"></div>
                <span>Jornal</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #6366F1"></div>
                <span>Revista</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #F97316"></div>
                <span>Mídia Gratuita</span>
            </div>
        </div>
    </div>
    <div style="position: relative; width: 100%; height: 400px; padding: 20px;">
        <svg width="100%" height="100%" viewBox="0 0 800 400">
            <!-- Background Grid -->
            <g class="grid">
                <rect x="100" y="50" width="650" height="300" fill="#F8FAFC"/>
                <!-- Horizontal grid lines -->
                <line x1="100" y1="50" x2="750" y2="50" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="100" y1="110" x2="750" y2="110" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="100" y1="170" x2="750" y2="170" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="100" y1="230" x2="750" y2="230" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="100" y1="290" x2="750" y2="290" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="100" y1="350" x2="750" y2="350" stroke="#E2E8F0" stroke-width="1"/>
            </g>

            <!-- Y-axis labels -->
            <g class="y-axis" font-size="12" fill="#64748B">
                <text x="90" y="55" text-anchor="end">100%</text>
                <text x="90" y="115" text-anchor="end">80%</text>
                <text x="90" y="175" text-anchor="end">60%</text>
                <text x="90" y="235" text-anchor="end">40%</text>
                <text x="90" y="295" text-anchor="end">20%</text>
                <text x="90" y="355" text-anchor="end">0%</text>
            </g>

            <!-- Bars -->
            <g class="bars">
                <!-- Internet -->
                <g class="bar-group" transform="translate(150,0)">
                    <rect 
                        x="0" 
                        y="100" 
                        width="60" 
                        height="250" 
                        fill="#2563EB"
                        rx="4"
                    >
                        <title>Internet: 85%</title>
                    </rect>
                </g>

                <!-- TV -->
                <g class="bar-group" transform="translate(230,0)">
                    <rect 
                        x="0" 
                        y="130" 
                        width="60" 
                        height="220" 
                        fill="#10B981"
                        rx="4"
                    >
                        <title>TV: 75%</title>
                    </rect>
                </g>

                <!-- Rádio -->
                <g class="bar-group" transform="translate(310,0)">
                    <rect 
                        x="0" 
                        y="170" 
                        width="60" 
                        height="180" 
                        fill="#F59E0B"
                        rx="4"
                    >
                        <title>Rádio: 60%</title>
                    </rect>
                </g>

                <!-- Mídia Exterior Digital -->
                <g class="bar-group" transform="translate(390,0)">
                    <rect 
                        x="0" 
                        y="200" 
                        width="60" 
                        height="150" 
                        fill="#EF4444"
                        rx="4"
                    >
                        <title>Mídia Exterior Digital: 50%</title>
                    </rect>
                </g>

                <!-- Mídia Exterior Estática -->
                <g class="bar-group" transform="translate(470,0)">
                    <rect 
                        x="0" 
                        y="220" 
                        width="60" 
                        height="130" 
                        fill="#8B5CF6"
                        rx="4"
                    >
                        <title>Mídia Exterior Estática: 45%</title>
                    </rect>
                </g>

                <!-- Cinema -->
                <g class="bar-group" transform="translate(550,0)">
                    <rect 
                        x="0" 
                        y="250" 
                        width="60" 
                        height="100" 
                        fill="#EC4899"
                        rx="4"
                    >
                        <title>Cinema: 35%</title>
                    </rect>
                </g>

                <!-- Jornal -->
                <g class="bar-group" transform="translate(630,0)">
                    <rect 
                        x="0" 
                        y="270" 
                        width="60" 
                        height="80" 
                        fill="#14B8A6"
                        rx="4"
                    >
                        <title>Jornal: 25%</title>
                    </rect>
                </g>

                <!-- Revista -->
                <g class="bar-group" transform="translate(710,0)">
                    <rect 
                        x="0" 
                        y="290" 
                        width="60" 
                        height="60" 
                        fill="#6366F1"
                        rx="4"
                    >
                        <title>Revista: 20%</title>
                    </rect>
                </g>
            </g>

            <!-- Labels abaixo das barras -->
            <g class="x-axis" font-size="12" fill="#64748B">
                <text x="180" y="380" text-anchor="middle">Internet</text>
                <text x="260" y="380" text-anchor="middle">TV</text>
                <text x="340" y="380" text-anchor="middle">Rádio</text>
                <text x="420" y="380" text-anchor="middle">Digital</text>
                <text x="500" y="380" text-anchor="middle">Estática</text>
                <text x="580" y="380" text-anchor="middle">Cinema</text>
                <text x="660" y="380" text-anchor="middle">Jornal</text>
                <text x="740" y="380" text-anchor="middle">Revista</text>
            </g>
        </svg>
    </div>
</div>

<link rel="stylesheet" href="style.css">

<link rel="stylesheet" href="style.css">

<!-- Card do gráfico de Distribuição por Abrangência -->
<div class="chart-card">
    <div class="chart-header">
        <div class="chart-title">Distribuição de Campanhas por Praça</div>
        <div class="chart-legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #2563EB"></div>
                <span>Nacional (45%)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #10B981"></div>
                <span>Regional (35%)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #F59E0B"></div>
                <span>Local (20%)</span>
            </div>
        </div>
    </div>
    <div style="position: relative; width: 100%; height: 400px; display: flex; justify-content: center; align-items: center;">
        <svg width="380" height="380" viewBox="-100 -100 200 200">
            <!-- Nacional (45% = 162 graus) -->
            <path d="M 0 0 L 100 0 A 100 100 0 0 1 -81.9 57.4 Z"
                  fill="#2563EB"
                  class="donut-segment" />
            
            <!-- Regional (35% = 126 graus) -->
            <path d="M 0 0 L -81.9 57.4 A 100 100 0 0 1 -93.97 -34.2 Z"
                  fill="#10B981"
                  class="donut-segment" />
            
            <!-- Local (20% = 72 graus) -->
            <path d="M 0 0 L -93.97 -34.2 A 100 100 0 0 1 100 0 Z"
                  fill="#F59E0B"
                  class="donut-segment" />
        </svg>
    </div>
</div>

<link rel="stylesheet" href="style.css">
<!-- Card do gráfico de Órgãos e Demandas -->
<div class="chart-card">
    <div class="chart-header">
        <div class="chart-title">Demandas por Órgão</div>
        <div class="chart-subtitle">Total de campanhas por órgão demandante</div>
    </div>
    <div style="position: relative; width: 100%; height: 400px; padding: 20px;">
        <svg width="100%" height="100%" viewBox="0 0 800 400">
            <!-- Grid e Linhas de Fundo -->
            <g class="grid">
                <line x1="150" y1="350" x2="750" y2="350" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="150" y1="300" x2="750" y2="300" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="150" y1="250" x2="750" y2="250" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="150" y1="200" x2="750" y2="200" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="150" y1="150" x2="750" y2="150" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="150" y1="100" x2="750" y2="100" stroke="#E2E8F0" stroke-width="1"/>
                <line x1="150" y1="50" x2="750" y2="50" stroke="#E2E8F0" stroke-width="1"/>
            </g>

            <!-- Eixo Y (Órgãos) -->
            <g class="y-axis" font-size="14" fill="#64748B">
                <text x="140" y="65" text-anchor="end">Ministério da Saúde</text>
                <text x="140" y="115" text-anchor="end">Min. Desenvolvimento Social</text>
                <text x="140" y="165" text-anchor="end">Ministério da Educação</text>
                <text x="140" y="215" text-anchor="end">Min. da Agricultura</text>
                <text x="140" y="265" text-anchor="end">Min. da Justiça</text>
                <text x="140" y="315" text-anchor="end">Outros</text>
            </g>

            <!-- Barras -->
            <!-- Cada barra tem duas cores: uma para campanhas ativas e outra para previstas -->
            <g class="bars">
                <!-- Ministério da Saúde -->
                <rect x="150" y="40" width="450" height="30" fill="#2563EB" opacity="0.8"/>
                <rect x="600" y="40" width="100" height="30" fill="#10B981" opacity="0.8"/>
                <text x="760" y="60" text-anchor="end" fill="#1E293B" font-size="14">12</text>

                <!-- Ministério do Desenvolvimento Social -->
                <rect x="150" y="90" width="380" height="30" fill="#2563EB" opacity="0.8"/>
                <rect x="530" y="90" width="80" height="30" fill="#10B981" opacity="0.8"/>
                <text x="760" y="110" text-anchor="end" fill="#1E293B" font-size="14">10</text>

                <!-- Ministério da Educação -->
                <rect x="150" y="140" width="300" height="30" fill="#2563EB" opacity="0.8"/>
                <rect x="450" y="140" width="120" height="30" fill="#10B981" opacity="0.8"/>
                <text x="760" y="160" text-anchor="end" fill="#1E293B" font-size="14">9</text>

                <!-- Ministério da Agricultura -->
                <rect x="150" y="190" width="280" height="30" fill="#2563EB" opacity="0.8"/>
                <rect x="430" y="190" width="90" height="30" fill="#10B981" opacity="0.8"/>
                <text x="760" y="210" text-anchor="end" fill="#1E293B" font-size="14">8</text>

                <!-- Ministério da Justiça -->
                <rect x="150" y="240" width="250" height="30" fill="#2563EB" opacity="0.8"/>
                <rect x="400" y="240" width="70" height="30" fill="#10B981" opacity="0.8"/>
                <text x="760" y="260" text-anchor="end" fill="#1E293B" font-size="14">7</text>

                <!-- Outros -->
                <rect x="150" y="290" width="200" height="30" fill="#2563EB" opacity="0.8"/>
                <rect x="350" y="290" width="50" height="30" fill="#10B981" opacity="0.8"/>
                <text x="760" y="310" text-anchor="end" fill="#1E293B" font-size="14">5</text>
            </g>

            <!-- Legenda -->
            <g class="legend" transform="translate(150, 360)">
                <rect x="0" y="0" width="12" height="12" fill="#2563EB" opacity="0.8"/>
                <text x="20" y="10" fill="#64748B" font-size="12">Campanhas Ativas</text>
                
                <rect x="150" y="0" width="12" height="12" fill="#10B981" opacity="0.8"/>
                <text x="170" y="10" fill="#64748B" font-size="12">Campanhas Previstas</text>
            </g>
        </svg>
    </div>
</div>

<link rel="stylesheet" href="style.css">

<link rel="stylesheet" href="style.css">


<link rel="stylesheet" href="style.css">


<link rel="stylesheet" href="style.css">
    </main>
    <script>
        function toggleDetails(campaignId) {
            const detailsRow = document.getElementById(campaignId);
            const campaignRow = detailsRow.previousElementSibling;
            const expandBtn = campaignRow.querySelector('.expand-btn i');
            
            // Fecha todas as outras linhas
            document.querySelectorAll('.details-row').forEach(row => {
                if (row.id !== campaignId) {
                    row.style.display = 'none';
                    row.classList.remove('show');
                    const prevRow = row.previousElementSibling;
                    prevRow.classList.remove('active');
                    prevRow.querySelector('.expand-btn i').style.transform = 'rotate(0deg)';
                }
            });

            // Toggle da linha atual
            if (detailsRow.style.display === 'none' || !detailsRow.style.display) {
                detailsRow.style.display = 'table-row';
                setTimeout(() => detailsRow.classList.add('show'), 0);
                campaignRow.classList.add('active');
                expandBtn.style.transform = 'rotate(-180deg)';
            } else {
                detailsRow.style.display = 'none';
                detailsRow.classList.remove('show');
                campaignRow.classList.remove('active');
                expandBtn.style.transform = 'rotate(0deg)';
            }
        }
    </script>
<script src="script.js"></script>
</body>
</html>